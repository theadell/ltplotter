\documentclass{standalone}
\usepackage{pgfplots}
\pgfplotsset{compat=1.18}

\begin{document}
\begin{tikzpicture}
    \begin{axis}[
        axis lines = middle,
        xlabel = ${{ with .XLabel }}{{ . }}{{ else }}x{{ end }}$,
        ylabel = ${{ with .YLabel }}{{ . }}{{ else }}y{{ end }}$,
        {{- with .XMin }}xmin={{ . }},{{ end }}
        {{- with .XMax }}xmax={{ . }},{{ end }}
        {{- with .YMin }}ymin={{ . }},{{ end }}
        {{- with .YMax }}ymax={{ . }},{{ end }}
        {{- if .Grid }}grid=major,{{ end }}
        legend pos=outer north east,
    ]
    {{- range .Plots }}
    \addplot [
        domain={{ with .Domain }}{{ . }}{{ else }}-10:10{{ end }},
        samples={{ with .Samples }}{{ . }}{{ else }}100{{ end }},
        color={{ with .Color }}{{ . }}{{ else }}blue{{ end }},
        {{- with .LineStyle }}{{ . }},{{ end }}
        {{- with .LineWidth }}line width={{ . }}{{ end }}
    ]
    { {{ .Expression }} };
    {{- with .Legend }}\addlegendentry{ {{ . }} }{{ end }}
    {{- end }}
    \end{axis}
\end{tikzpicture}
\end{document}
